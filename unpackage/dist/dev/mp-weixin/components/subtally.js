(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/subtally"],{391:function(t,n,i){"use strict";i.r(n);var e=i(392),u=i(394);for(var m in u)"default"!==m&&function(t){i.d(n,t,(function(){return u[t]}))}(m);i(396);var s,o=i(11),r=Object(o["default"])(u["default"],e["render"],e["staticRenderFns"],!1,null,"41130967",null,!1,e["components"],s);r.options.__file="components/subtally.vue",n["default"]=r.exports},392:function(t,n,i){"use strict";i.r(n);var e=i(393);i.d(n,"render",(function(){return e["render"]})),i.d(n,"staticRenderFns",(function(){return e["staticRenderFns"]})),i.d(n,"recyclableRender",(function(){return e["recyclableRender"]})),i.d(n,"components",(function(){return e["components"]}))},393:function(t,n,i){"use strict";var e;i.r(n),i.d(n,"render",(function(){return u})),i.d(n,"staticRenderFns",(function(){return s})),i.d(n,"recyclableRender",(function(){return m})),i.d(n,"components",(function(){return e}));try{e={uIcon:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(i.bind(null,462))},"u-Input":function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u--input/u--input")]).then(i.bind(null,321))},uToast:function(){return i.e("uni_modules/uview-ui/components/u-toast/u-toast").then(i.bind(null,306))},uDatetimePicker:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker")]).then(i.bind(null,338))}}}catch(o){if(-1===o.message.indexOf("Cannot find module")||-1===o.message.indexOf(".vue"))throw o;console.error(o.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var u=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){t.submitForm.tallytype="工资"},t.e1=function(n){t.submitForm.tallytype="理财"},t.e2=function(n){t.submitForm.tallytype="红包"},t.e3=function(n){t.submitForm.tallytype="兼职"},t.e4=function(n){t.submitForm.tallytype="现金"},t.e5=function(n){t.submitForm.tallytype="收银"},t.e6=function(n){t.submitForm.tallytype="其它"},t.e7=function(n){t.submitForm.tallytype="餐饮"},t.e8=function(n){t.submitForm.tallytype="娱乐"},t.e9=function(n){t.submitForm.tallytype="日用"},t.e10=function(n){t.submitForm.tallytype="住房"},t.e11=function(n){t.submitForm.tallytype="旅行"},t.e12=function(n){t.submitForm.tallytype="医疗"},t.e13=function(n){t.submitForm.tallytype="交通"},t.e14=function(n){t.showtime=!0},t.e15=function(n){t.showtime=!0},t.e16=function(n){t.showtime=!0},t.e17=function(n){t.showtime=!1},t.e18=function(n){t.showtime=!1})},m=!1,s=[];u._withStripped=!0},394:function(t,n,i){"use strict";i.r(n);var e=i(395),u=i.n(e);for(var m in e)"default"!==m&&function(t){i.d(n,t,(function(){return e[t]}))}(m);n["default"]=u.a},395:function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=m(i(36)),u=i(145);function m(t){return t&&t.__esModule?t:{default:t}}function s(t,n,i,e,u,m,s){try{var o=t[m](s),r=o.value}catch(a){return void i(a)}o.done?n(r):Promise.resolve(r).then(e,u)}function o(t){return function(){var n=this,i=arguments;return new Promise((function(e,u){var m=t.apply(n,i);function o(t){s(m,e,u,o,r,"next",t)}function r(t){s(m,e,u,o,r,"throw",t)}o(void 0)}))}}var r={mixins:[u.datetimes],props:["tallydata"],name:"subtally",data:function(){return{income:!0,showtime:!1,isincome:!0,submitForm:{tallytype:"工资",datetime:Number(new Date),remark:"",num:""},isdot:!1,onenum:"",twonum:""}},created:function(){var n=t.$u.timeFormat;this.submitForm.datetime=n(this.submitForm.datetime,"yyyy/mm/dd")},methods:{tallypage:function(){t.navigateTo({url:"../../pages/tally/tally"})},confirmtime:function(n){var i=this;this.showtime=!1;var e=t.$u.timeFormat;this.$nextTick((function(){i.submitForm.datetime=e(n.value,"yyyy/mm/dd")}))},btnin:function(){this.income=!this.income,this.submitForm.tallytype="餐饮",this.isincome=!1},btnout:function(){this.income=!this.income,this.submitForm.tallytype="工资",this.isincome=!0},btntyp:function(t){switch(t){case"0":this.submitForm.num+="0";break;case"1":this.submitForm.num+="1";break;case"2":this.submitForm.num+="2";break;case"3":this.submitForm.num+="3";break;case"4":this.submitForm.num+="4";break;case"5":this.submitForm.num+="5";break;case"6":this.submitForm.num+="6";break;case"7":this.submitForm.num+="7";break;case"8":this.submitForm.num+="8";break;case"9":this.submitForm.num+="9";break;case".":this.isdot?console.log("禁止点击"):(this.submitForm.num+=".",this.isdot=!0);break;case"+":""==this.onenum?(this.onenum=this.submitForm.num,this.submitForm.num+="+"):this.submitForm.num.indexOf("+")>=0?(this.twonum=this.submitForm.num.split("+")[1],this.submitForm.num=(1*this.onenum+1*this.twonum).toFixed(2),this.onenum=this.submitForm.num,this.submitForm.num+="+"):this.submitForm.num.indexOf("-")>=0?(this.twonum=this.submitForm.num.split("-")[1],this.submitForm.num=(1*this.onenum-1*this.twonum).toFixed(2),this.onenum=this.submitForm.num,this.submitForm.num+="+"):this.submitForm.num+="+",this.isdot=!1;break;case"-":""==this.onenum?(this.onenum=this.submitForm.num,this.submitForm.num+="-"):this.submitForm.num.indexOf("-")>=0?(this.twonum=this.submitForm.num.split("-")[1],this.submitForm.num=(1*this.onenum-1*this.twonum).toFixed(2),this.onenum=this.submitForm.num,this.submitForm.num+="-"):this.submitForm.num.indexOf("+")>=0?(this.twonum=this.submitForm.num.split("+")[1],this.submitForm.num=(1*this.onenum+1*this.twonum).toFixed(2),this.onenum=this.submitForm.num,this.submitForm.num+="-"):this.submitForm.num+="-",this.isdot=!1;break;case"=":this.submitForm.num.indexOf("+")>=0?(this.onenum=this.submitForm.num.split("+")[0],this.twonum=this.submitForm.num.split("+")[1],this.submitForm.num=(1*this.onenum+1*this.twonum).toFixed(2),this.onenum=this.submitForm.num):(this.onenum=this.submitForm.num.split("-")[0],this.twonum=this.submitForm.num.split("-")[1],this.submitForm.num=(1*this.onenum-1*this.twonum).toFixed(2),this.onenum=this.submitForm.num),this.isdot=!1;break;case"back":this.submitForm.num=this.submitForm.num.substring(0,this.submitForm.num.length-1),this.submitForm.num.indexOf(".")<0&&(this.isdot=!1);break;default:console.log("...")}},addtally:function(){var t=this;return o(e.default.mark((function n(){var i,u;return e.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(""==t.submitForm.num||0==t.submitForm.num||t.submitForm.num.indexOf("+")>=0||t.submitForm.num.indexOf("-")>=0)){n.next=4;break}t.$refs.uToast.show({type:"error",icon:!1,message:"请输入正确的数字后再添加",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/error.png"}),n.next=10;break;case 4:return 0==t.isincome?t.submitForm.num=-1*t.submitForm.num:t.submitForm.num,n.next=7,t.$http({url:"tally/addtally",method:"POST",data:{tallytype:t.submitForm.tallytype,remark:t.submitForm.remark,num:t.submitForm.num,datetime:t.submitForm.datetime}});case 7:i=n.sent,u=i.data,"200"==u.code?(t.$refs.uToast.show({type:"success",duration:1e3,message:"已成功添加一条账单记录",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/success.png"}),t.submitForm.remark="",t.submitForm.num="",t.isdot=!1):t.$refs.uToast.show({type:"error",icon:!1,message:"添加失败，请重试",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/error.png"});case 10:case"end":return n.stop()}}),n)})))()}}};n.default=r}).call(this,i(1)["default"])},396:function(t,n,i){"use strict";i.r(n);var e=i(397),u=i.n(e);for(var m in e)"default"!==m&&function(t){i.d(n,t,(function(){return e[t]}))}(m);n["default"]=u.a},397:function(t,n,i){}}]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/components/subtally.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/subtally-create-component',
    {
        'components/subtally-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(391))
        })
    },
    [['components/subtally-create-component']]
]);
