(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/backlog/backlog"],{202:function(e,t,n){"use strict";(function(e){n(5);o(n(3));var t=o(n(203));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n(1)["createPage"])},203:function(e,t,n){"use strict";n.r(t);var o=n(204),i=n(206);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n(208);var c,s=n(11),u=Object(s["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,"0d696d02",null,!1,o["components"],c);u.options.__file="pages/backlog/backlog.vue",t["default"]=u.exports},204:function(e,t,n){"use strict";n.r(t);var o=n(205);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},205:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return i})),n.d(t,"staticRenderFns",(function(){return c})),n.d(t,"recyclableRender",(function(){return a})),n.d(t,"components",(function(){return o}));try{o={uToast:function(){return n.e("uni_modules/uview-ui/components/u-toast/u-toast").then(n.bind(null,306))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,313))},"u-Input":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--input/u--input")]).then(n.bind(null,321))},uCalendar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-calendar/u-calendar")]).then(n.bind(null,327))},uDatetimePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker")]).then(n.bind(null,338))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,346))},uTag:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tag/u-tag")]).then(n.bind(null,354))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,420))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,462))},uSwipeAction:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-swipe-action/u-swipe-action")]).then(n.bind(null,481))},uSwipeActionItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-swipe-action-item/u-swipe-action-item")]).then(n.bind(null,487))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,t=e.$createElement,n=(e._self._c,"生活"===e.backlogtype?e.__map(e.todaya,(function(t,n){var o=e.__get_orig(t),i=JSON.stringify(t);return{$orig:o,g0:i}})):null),o="工作"===e.backlogtype?e.__map(e.todayb,(function(t,n){var o=e.__get_orig(t),i=JSON.stringify(t);return{$orig:o,g1:i}})):null,i="学习"===e.backlogtype?e.__map(e.todayc,(function(t,n){var o=e.__get_orig(t),i=JSON.stringify(t);return{$orig:o,g2:i}})):null,a="健康"===e.backlogtype?e.__map(e.todayd,(function(t,n){var o=e.__get_orig(t),i=JSON.stringify(t);return{$orig:o,g3:i}})):null,c="社交"===e.backlogtype?e.__map(e.todaye,(function(t,n){var o=e.__get_orig(t),i=JSON.stringify(t);return{$orig:o,g4:i}})):null,s="其它"===e.backlogtype?e.__map(e.todayf,(function(t,n){var o=e.__get_orig(t),i=JSON.stringify(t);return{$orig:o,g5:i}})):null;e._isMounted||(e.e0=function(t){e.showedit=!1},e.e1=function(t){e.showcalendar=!0},e.e2=function(t){e.showcalendar=!1},e.e3=function(t){e.showdatetime=!0},e.e4=function(t){e.showdatetime=!1},e.e5=function(t){e.showdatetime=!1},e.e6=function(t){e.showtypepicker=!0},e.e7=function(t){e.showtypepicker=!1},e.e8=function(t){e.showtypepicker=!1},e.e9=function(t){e.showdel=!1},e.e10=function(t){e.showdel=!0},e.e11=function(t){e.showdel=!1}),e.$mp.data=Object.assign({},{$root:{l0:n,l1:o,l2:i,l3:a,l4:c,l5:s}})},a=!1,c=[];i._withStripped=!0},206:function(e,t,n){"use strict";n.r(t);var o=n(207),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},207:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(36)),i=n(145);function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,o,i,a,c){try{var s=e[a](c),u=s.value}catch(r){return void n(r)}s.done?t(u):Promise.resolve(u).then(o,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){c(a,o,i,s,u,"next",e)}function u(e){c(a,o,i,s,u,"throw",e)}s(void 0)}))}}var u={mixins:[i.getstatusBarHeight,i.datetimes],onLoad:function(t){this.backlogtype=t.type;var n=JSON.parse(e.getStorageSync("todaybacklogstorage")),o=n.todaya,i=n.todayb,a=n.todayc,c=n.todayd,s=n.todaye,u=n.todayf;this.todaya=o,this.todayb=i,this.todayc=a,this.todayd=c,this.todaye=s,this.todayf=u},onReady:function(){var t=this;e.createSelectorQuery().in(this).select(".listcontent").boundingClientRect((function(e){t.topheight="calc(100% - "+e.top+"px)"})).exec()},data:function(){return{todaya:[],todayb:[],todayc:[],todayd:[],todaye:[],todayf:[],topheight:"",showdel:!1,showedit:!1,showcalendar:!1,showdatetime:!1,showtypepicker:!1,toid:"",totype:"",tocontents:"",todatetime:"",toclassvalue:"",tocolorbg:"",toname:"",columns:[[{name:"生活",names:{cvalue:"#icon-life",cbg:"#7766E7",cname:"生活"},classvalue:"#icon-life"},{name:"工作",names:{cvalue:"#icon-work",cbg:"#518BF1",cname:"工作"},classvalue:"#icon-work"},{name:"学习",names:{cvalue:"#icon-study",cbg:"#FFCD00",cname:"学习"},classvalue:"#icon-study"},{name:"健康",names:{cvalue:"#icon-health",cbg:"#1DBD84",cname:"健康"},classvalue:"#icon-health"},{name:"社交",names:{cvalue:"#icon-social",cbg:"#FE738A",cname:"社交"},classvalue:"#icon-social"},{name:"其它",names:{cvalue:"#icon-other",cbg:"#C4C4C4",cname:"其它"},classvalue:"#icon-other"}]],datebacklog:"",timebacklog:"",tagshow1:!1,tagshow2:!1,tagshow3:!1,backlogtype:"",options2:[{icon:"edit-pen",style:{backgroundColor:"#7766E7",fontSize:"36rpx",borderRadius:"50%",width:"100rpx",height:"100rpx"}},{icon:"trash",style:{backgroundColor:"#FE748B",fontSize:"36rpx",borderRadius:"50%",width:"100rpx",height:"100rpx"}}]}},methods:{backmycenter:function(){e.switchTab({url:"../index/index"})},todone:function(e,t){var n=this;return s(o.default.mark((function i(){var a,c,s,u;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.id,c=e.done,c="0"==c?"1":"0",o.next=4,n.$http({url:"backlog/updatebacklog",method:"POST",data:{done:c,id:a}});case 4:s=o.sent,u=s.data,"200"==u.code&&("1"==c?(n[t].forEach((function(e,t){a==e.id&&(e.done=1)})),n.$refs.uToast.show({type:"success",duration:1e3,message:"该条待办清单已完成",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/success.png"})):"0"==c&&(n[t].forEach((function(e,t){a==e.id&&(e.done=0)})),n.$refs.uToast.show({type:"default",duration:1e3,message:"该条待办清单已修改为待完成",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/success.png"})));case 7:case"end":return o.stop()}}),i)})))()},changebacklog:function(e){switch(this.toid=JSON.parse(e.name).id,this.tocontents=JSON.parse(e.name).contents,this.todatetime=JSON.parse(e.name).datetime,this.datebacklog=this.todatetime.split(" ")[0],this.timebacklog=this.todatetime.split(" ")[1],this.tagshow1=!0,this.tagshow2=!0,this.tagshow3=!0,this.toclassvalue=JSON.parse(e.name).classvalue,this.tocolorbg=JSON.parse(e.name).colorbg,JSON.parse(e.name).classvalue){case"#icon-life":this.totype="todaya",this.toname="生活";break;case"#icon-work":this.totype="todayb",this.toname="工作";break;case"#icon-study":this.totype="todayc",this.toname="学习";break;case"#icon-health":this.totype="todayd",this.toname="健康";break;case"#icon-social":this.totype="todaye",this.toname="社交";break;case"#icon-other":this.totype="todayf",this.toname="其它";break;default:console.log("error...")}"1"==e.index?this.showdel=!0:"0"==e.index&&(this.showedit=!0)},confirmdel:function(){var e=this;return s(o.default.mark((function t(){var n,i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http({url:"backlog/deletebacklog",method:"POST",data:{id:e.toid}});case 2:n=t.sent,i=n.data,"200"==i.code&&(e.showdel=!1,e[e.totype].forEach((function(t,n){e.toid==t.id&&e[e.totype].splice(n,1)})));case 5:case"end":return t.stop()}}),t)})))()},confirmdate:function(e){this.showcalendar=!1,this.datebacklog=e[0],this.tagshow1=!0},confirmdatetime:function(e){this.showdatetime=!1,this.timebacklog=e.value,this.tagshow2=!0},confirmtype:function(e){this.showtypepicker=!1,this.toclassvalue=e.value[0].names.cvalue,this.tocolorbg=e.value[0].names.cbg,this.toname=e.value[0].name,this.tagshow3=!0},tagclose1:function(){this.tagshow1=!1,this.datebacklog=""},tagclose2:function(){this.tagshow2=!1,this.timebacklog=""},tagclose3:function(){this.tagshow3=!1,this.toname=""},savebacklog:function(){var e=this;return s(o.default.mark((function t(){var n,i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http({url:"backlog/updatecontents",method:"POST",data:{contents:e.tocontents,datetime:e.datebacklog+" "+e.timebacklog,classvalue:e.toclassvalue,colorbg:e.tocolorbg,id:e.toid}});case 2:n=t.sent,i=n.data,"200"==i.code?(e.showedit=!1,e[e.totype].forEach((function(t,n){e.toid==t.id&&(e[e.totype][n].contents=e.tocontents,e[e.totype][n].datetime=e.datebacklog+" "+e.timebacklog,e.toclassvalue!=e[e.totype][n].classvalue&&e[e.totype].splice(n,1))})),e.$refs.uToast.show({type:"success",duration:1e3,message:"该条待办清单修改成功",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/success.png"})):(e.showedit=!1,e.$refs.uToast.show({type:"error",icon:!1,message:"该条待办清单修改失败,请重试",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/error.png"}));case 5:case"end":return t.stop()}}),t)})))()}}};t.default=u}).call(this,n(1)["default"])},208:function(e,t,n){"use strict";n.r(t);var o=n(209),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},209:function(e,t,n){}},[[202,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/backlog/backlog.js.map