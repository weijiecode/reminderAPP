(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tally/addtally"],{274:function(t,n,i){"use strict";(function(t){i(5);e(i(3));var n=e(i(275));function e(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(n.default)}).call(this,i(1)["createPage"])},275:function(t,n,i){"use strict";i.r(n);var e=i(276),u=i(278);for(var o in u)"default"!==o&&function(t){i.d(n,t,(function(){return u[t]}))}(o);i(280);var m,s=i(11),r=Object(s["default"])(u["default"],e["render"],e["staticRenderFns"],!1,null,"e8740f32",null,!1,e["components"],m);r.options.__file="pages/tally/addtally.vue",n["default"]=r.exports},276:function(t,n,i){"use strict";i.r(n);var e=i(277);i.d(n,"render",(function(){return e["render"]})),i.d(n,"staticRenderFns",(function(){return e["staticRenderFns"]})),i.d(n,"recyclableRender",(function(){return e["recyclableRender"]})),i.d(n,"components",(function(){return e["components"]}))},277:function(t,n,i){"use strict";var e;i.r(n),i.d(n,"render",(function(){return u})),i.d(n,"staticRenderFns",(function(){return m})),i.d(n,"recyclableRender",(function(){return o})),i.d(n,"components",(function(){return e}));try{e={uSubsection:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-subsection/u-subsection")]).then(i.bind(null,521))},"u-Input":function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u--input/u--input")]).then(i.bind(null,321))},uIcon:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(i.bind(null,462))},uToast:function(){return i.e("uni_modules/uview-ui/components/u-toast/u-toast").then(i.bind(null,306))},uDatetimePicker:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker")]).then(i.bind(null,338))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var u=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){t.submitForm.tallytype="工资"},t.e1=function(n){t.submitForm.tallytype="理财"},t.e2=function(n){t.submitForm.tallytype="红包"},t.e3=function(n){t.submitForm.tallytype="兼职"},t.e4=function(n){t.submitForm.tallytype="现金"},t.e5=function(n){t.submitForm.tallytype="收银"},t.e6=function(n){t.submitForm.tallytype="其它"},t.e7=function(n){t.submitForm.tallytype="其它"},t.e8=function(n){t.submitForm.tallytype="餐饮"},t.e9=function(n){t.submitForm.tallytype="娱乐"},t.e10=function(n){t.submitForm.tallytype="日用"},t.e11=function(n){t.submitForm.tallytype="住房"},t.e12=function(n){t.submitForm.tallytype="旅行"},t.e13=function(n){t.submitForm.tallytype="医疗"},t.e14=function(n){t.submitForm.tallytype="交通"},t.e15=function(n){t.submitForm.tallytype="其它"},t.e16=function(n){t.showtime=!0},t.e17=function(n){t.showtime=!0},t.e18=function(n){t.showtime=!0},t.e19=function(n){t.showtime=!1},t.e20=function(n){t.showtime=!1})},o=!1,m=[];u._withStripped=!0},278:function(t,n,i){"use strict";i.r(n);var e=i(279),u=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(n,t,(function(){return e[t]}))}(o);n["default"]=u.a},279:function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o(i(36)),u=i(145);function o(t){return t&&t.__esModule?t:{default:t}}function m(t,n,i,e,u,o,m){try{var s=t[o](m),r=s.value}catch(a){return void i(a)}s.done?n(r):Promise.resolve(r).then(e,u)}function s(t){return function(){var n=this,i=arguments;return new Promise((function(e,u){var o=t.apply(n,i);function s(t){m(o,e,u,s,r,"next",t)}function r(t){m(o,e,u,s,r,"throw",t)}s(void 0)}))}}var r={mixins:[u.getstatusBarHeight],onShow:function(){},created:function(){var n=t.$u.timeFormat;this.submitForm.datetime=n(this.submitForm.datetime,"yyyy/mm/dd")},data:function(){return{topheight:"",list:["收入","支出"],curNow:0,submitForm:{tallytype:"工资",datetime:Number(new Date),remark:"",num:""},showtime:!1,isincome:!0,isdot:!1,onenum:"",twonum:""}},methods:{backmycenter:function(){t.navigateBack()},sectionChange:function(t){this.curNow=t,0==t?(this.submitForm.tallytype="工资",this.isincome=!0):(this.submitForm.tallytype="餐饮",this.isincome=!1)},confirmtime:function(n){var i=this;this.showtime=!1;var e=t.$u.timeFormat;this.$nextTick((function(){i.submitForm.datetime=e(n.value,"yyyy/mm/dd")}))},btntyp:function(t){switch(t){case"0":this.submitForm.num+="0";break;case"1":this.submitForm.num+="1";break;case"2":this.submitForm.num+="2";break;case"3":this.submitForm.num+="3";break;case"4":this.submitForm.num+="4";break;case"5":this.submitForm.num+="5";break;case"6":this.submitForm.num+="6";break;case"7":this.submitForm.num+="7";break;case"8":this.submitForm.num+="8";break;case"9":this.submitForm.num+="9";break;case".":this.isdot?console.log("禁止点击"):(this.submitForm.num+=".",this.isdot=!0);break;case"+":""==this.onenum?(this.onenum=this.submitForm.num,this.submitForm.num+="+"):this.submitForm.num.indexOf("+")>=0?(this.twonum=this.submitForm.num.split("+")[1],this.submitForm.num=(1*this.onenum+1*this.twonum).toFixed(2),this.onenum=this.submitForm.num,this.submitForm.num+="+"):this.submitForm.num.indexOf("-")>=0?(this.twonum=this.submitForm.num.split("-")[1],this.submitForm.num=(1*this.onenum-1*this.twonum).toFixed(2),this.onenum=this.submitForm.num,this.submitForm.num+="+"):this.submitForm.num+="+",this.isdot=!1;break;case"-":""==this.onenum?(this.onenum=this.submitForm.num,this.submitForm.num+="-"):this.submitForm.num.indexOf("-")>=0?(this.twonum=this.submitForm.num.split("-")[1],this.submitForm.num=(1*this.onenum-1*this.twonum).toFixed(2),this.onenum=this.submitForm.num,this.submitForm.num+="-"):this.submitForm.num.indexOf("+")>=0?(this.twonum=this.submitForm.num.split("+")[1],this.submitForm.num=(1*this.onenum+1*this.twonum).toFixed(2),this.onenum=this.submitForm.num,this.submitForm.num+="-"):this.submitForm.num+="-",this.isdot=!1;break;case"=":this.submitForm.num.indexOf("+")>=0?(this.onenum=this.submitForm.num.split("+")[0],this.twonum=this.submitForm.num.split("+")[1],this.submitForm.num=(1*this.onenum+1*this.twonum).toFixed(2),this.onenum=this.submitForm.num):(this.onenum=this.submitForm.num.split("-")[0],this.twonum=this.submitForm.num.split("-")[1],this.submitForm.num=(1*this.onenum-1*this.twonum).toFixed(2),this.onenum=this.submitForm.num),this.isdot=!1;break;case"back":this.submitForm.num=this.submitForm.num.substring(0,this.submitForm.num.length-1),this.submitForm.num.indexOf(".")<0&&(this.isdot=!1);break;default:console.log("...")}},addtally:function(){var t=this;return s(e.default.mark((function n(){var i,u;return e.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(""==t.submitForm.num||0==t.submitForm.num||t.submitForm.num.indexOf("+")>=0||t.submitForm.num.indexOf("-")>=0)){n.next=4;break}t.$refs.uToast.show({type:"error",icon:!1,message:"请输入正确的数字后再添加",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/error.png"}),n.next=10;break;case 4:return 0==t.isincome?t.submitForm.num=-1*t.submitForm.num:t.submitForm.num,n.next=7,t.$http({url:"tally/addtally",method:"POST",data:{tallytype:t.submitForm.tallytype,remark:t.submitForm.remark,num:t.submitForm.num,datetime:t.submitForm.datetime}});case 7:i=n.sent,u=i.data,"200"==u.code?(t.$refs.uToast.show({type:"success",duration:1e3,message:"已成功添加一条账单记录",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/success.png"}),t.submitForm.remark="",t.submitForm.num="",t.isdot=!1):t.$refs.uToast.show({type:"error",icon:!1,message:"添加失败，请重试",iconUrl:"https://cdn.uviewui.com/uview/demo/toast/error.png"});case 10:case"end":return n.stop()}}),n)})))()}}};n.default=r}).call(this,i(1)["default"])},280:function(t,n,i){"use strict";i.r(n);var e=i(281),u=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(n,t,(function(){return e[t]}))}(o);n["default"]=u.a},281:function(t,n,i){}},[[274,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/tally/addtally.js.map